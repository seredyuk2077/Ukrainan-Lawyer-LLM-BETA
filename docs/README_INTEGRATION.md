# üèõÔ∏è –£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –ü—Ä–∞–≤–æ–≤–∏–π AI –ê—Å–∏—Å—Ç–µ–Ω—Ç - –ü–æ–≤–Ω–∞ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ü–û–í–ù–Ü–°–¢–Æ –ù–ê–õ–ê–®–¢–û–í–ê–ù–û –¢–ê –ü–†–û–¢–ï–°–¢–û–í–ê–ù–û

–°–∏—Å—Ç–µ–º–∞ —É—Å–ø—ñ—à–Ω–æ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ –∑ —É—Å—ñ–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:
- ‚úÖ **ChatGPT API** - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- ‚úÖ **Supabase** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ç–∞ edge —Ñ—É–Ω–∫—Ü—ñ—ó  
- ‚úÖ **Rada API** - –ø–æ—à—É–∫ –∑–∞–∫–æ–Ω—ñ–≤
- ‚úÖ **Postgrestools** - —Ä–æ–±–æ—Ç–∞ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó
```bash
node demo.js
```

### 2. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏
```bash
# –ë–∞–∑–æ–≤–∏–π —Ç–µ—Å—Ç
node simple_test.js

# –ü–æ–≤–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
node test_full_integration.js

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Postgrestools
node setup_postgrestools.js
```

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á ‚Üí Edge Function ‚Üí Legal Agent + Rada Parser ‚Üí Supabase + OpenAI
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:
- **Edge Function**: `supabase/functions/app_78e3d871a2_chat/index.ts`
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: Supabase PostgreSQL
- **AI**: OpenAI GPT-3.5-turbo
- **–ó–∞–∫–æ–Ω–∏**: Rada.gov.ua API

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
‚îú‚îÄ‚îÄ supabase/functions/app_78e3d871a2_chat/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                    # Edge —Ñ—É–Ω–∫—Ü—ñ—è –∑ —Ä–∞–¥–∞ –ø–∞—Ä—Å–µ—Ä–æ–º
‚îú‚îÄ‚îÄ backend/src/services/
‚îÇ   ‚îú‚îÄ‚îÄ radaOfficialApiParser.js    # –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π —Ä–∞–¥–∞ –ø–∞—Ä—Å–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ supabaseLegalAgent.js       # Legal Agent –¥–ª—è backend
‚îú‚îÄ‚îÄ test_full_integration.js        # –ö–æ–º–ø–ª–µ–∫—Å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ simple_test.js                  # –ë–∞–∑–æ–≤–∏–π —Ç–µ—Å—Ç
‚îú‚îÄ‚îÄ demo.js                         # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ setup_postgrestools.js          # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Postgrestools
‚îî‚îÄ‚îÄ INTEGRATION_REPORT.md           # –î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### Edge Function
- **URL**: `https://lhltmmzwvikdgxxakbcl.supabase.co/functions/v1/app_78e3d871a2_chat`
- **–ú–µ—Ç–æ–¥**: POST
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**: Bearer token

### Supabase
- **URL**: `https://lhltmmzwvikdgxxakbcl.supabase.co`
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: PostgreSQL –∑ RLS
- **Edge Functions**: Deno runtime

### Rada API
- **URL**: `https://data.rada.gov.ua`
- **–¢–æ–∫–µ–Ω–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è
- **Rate Limiting**: 5-7 —Å–µ–∫—É–Ω–¥ –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### ‚úÖ –£—Å–ø—ñ—à–Ω—ñ —Ç–µ—Å—Ç–∏
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Å—ñ—ó —á–∞—Ç—É
- –ë–∞–∑–æ–≤–∏–π —á–∞—Ç
- –Æ—Ä–∏–¥–∏—á–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- Edge —Ñ—É–Ω–∫—Ü—ñ—è
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### üìà –ü–æ–∫–∞–∑–Ω–∏–∫–∏
- **–í—ñ–¥–ø–æ–≤—ñ–¥—ñ AI**: –ì–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ
- **–¢–æ–∫–µ–Ω–∏**: 500-700 –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î
- **Rada API**: –ü–æ—à—É–∫ –ø—Ä–∞—Ü—é—î

## üíª –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–¥—ñ

### –ë–∞–∑–æ–≤–∏–π –∑–∞–ø–∏—Ç
```javascript
const response = await fetch('https://lhltmmzwvikdgxxakbcl.supabase.co/functions/v1/app_78e3d871a2_chat', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
  },
  body: JSON.stringify({
    sessionId: 'your-session-id',
    userMessage: '–í–∞—à–µ –ø–∏—Ç–∞–Ω–Ω—è',
    messages: []
  })
});

const data = await response.json();
console.log(data.response); // –í—ñ–¥–ø–æ–≤—ñ–¥—å AI
console.log(data.sources);  // –î–∂–µ—Ä–µ–ª–∞ –∑–∞–∫–æ–Ω—ñ–≤
console.log(data.tokensUsed); // –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–æ–∫–µ–Ω–∏
```

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Å—ñ—ó
```javascript
import { createClient } from '@supabase/supabase-js';

const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

const { data: session } = await supabase
  .from('chat_sessions')
  .insert({
    title: '–ù–æ–≤–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è',
    is_active: true
  })
  .select()
  .single();
```

## üîç –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### Rada API Parser
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤
- Rate limiting (5-7 —Å–µ–∫—É–Ω–¥)
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –∫–ª—é—á–æ–≤–∏–º–∏ —Å–ª–æ–≤–∞–º–∏
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤

### Legal Agent
- –ö–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è –ø—Ä–∞–≤–æ–≤–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –∫–ª—é—á–æ–≤–∏—Ö —Å–ª—ñ–≤
- –û—Ü—ñ–Ω–∫–∞ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –ø–∏—Ç–∞–Ω—å
- –ü–æ–±—É–¥–æ–≤–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

### Edge Function
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è —Ç–æ–∫–µ–Ω—ñ–≤
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- –õ–æ–≥—É–≤–∞–Ω–Ω—è
- CORS –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

## üìù –ü—Ä–∏–∫–ª–∞–¥–∏ –ø–∏—Ç–∞–Ω—å

### –¢—Ä—É–¥–æ–≤–µ –ø—Ä–∞–≤–æ
- "–Ø–∫—ñ –ø—Ä–∞–≤–∞ –º–∞—î –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫ –ø—Ä–∏ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—ñ?"
- "–Ø–∫ –æ—Ñ–æ—Ä–º–∏—Ç–∏ —Ç—Ä—É–¥–æ–≤–∏–π –¥–æ–≥–æ–≤—ñ—Ä?"
- "–©–æ —Ç–∞–∫–µ –≤—ñ–¥–ø—É—Å—Ç–∫–∞?"

### –¶–∏–≤—ñ–ª—å–Ω–µ –ø—Ä–∞–≤–æ
- "–Ø–∫ –æ—Ñ–æ—Ä–º–∏—Ç–∏ –¥–æ–≥–æ–≤—ñ—Ä –∫—É–ø—ñ–≤–ª—ñ-–ø—Ä–æ–¥–∞–∂—É?"
- "–©–æ —Ç–∞–∫–µ —Å–ø–∞–¥—â–∏–Ω–∞?"
- "–Ø–∫ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ –ø—Ä–∞–≤–∞ —Å–ø–æ–∂–∏–≤–∞—á–∞?"

### –°—ñ–º–µ–π–Ω–µ –ø—Ä–∞–≤–æ
- "–Ø–∫ –æ—Ñ–æ—Ä–º–∏—Ç–∏ —à–ª—é–±?"
- "–©–æ —Ç–∞–∫–µ –∞–ª—ñ–º–µ–Ω—Ç–∏?"
- "–Ø–∫ —Ä–æ–∑–ª—É—á–∏—Ç–∏—Å—è?"

## üö® –û–±–º–µ–∂–µ–Ω–Ω—è

1. **Rada API**: –û–±–º–µ–∂–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤
2. **–¢–æ–∫–µ–Ω–∏**: –õ—ñ–º—ñ—Ç–∏ OpenAI API
3. **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: –û–±–º–µ–∂–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–∫–æ–Ω—ñ–≤
4. **Edge Function**: –¢–∞–π–º–∞—É—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### 1. –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
SUPABASE_URL=https://lhltmmzwvikdgxxakbcl.supabase.co
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_key
OPENAI_API_KEY=your_openai_key
```

### 2. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- –õ–æ–≥–∏ edge —Ñ—É–Ω–∫—Ü—ñ—ó
- –ú–µ—Ç—Ä–∏–∫–∏ Supabase
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤

### 3. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
- –ö–µ—à—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤
- –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ edge —Ñ—É–Ω–∫—Ü—ñ—ó
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Supabase
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ API –∫–ª—é—á—ñ
4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç–∏

## üéâ –í–∏—Å–Ω–æ–≤–æ–∫

–°–∏—Å—Ç–µ–º–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ —Ç–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
- ‚úÖ –í—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω—ñ
- ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–π—à–ª–æ —É—Å–ø—ñ—à–Ω–æ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î

**–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∑–∞–¥–∞–≤–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª—ñ–∑—É—î —ó—Ö, —à—É–∫–∞—î —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –∑–∞–∫–æ–Ω–∏ —á–µ—Ä–µ–∑ —Ä–∞–¥–∞ –ø–∞—Ä—Å–µ—Ä, –≥–µ–Ω–µ—Ä—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å —á–µ—Ä–µ–∑ ChatGPT —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î –≤—Å–µ –≤ Supabase.**
